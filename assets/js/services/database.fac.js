"use strict";function appDB(t,a,n,e){var o=function(t){if(!angular.isObject(t))return null==t?"":t.toString();var a=[];for(var n in t)if(t.hasOwnProperty(n)){var e=t[n];a.push(encodeURIComponent(n)+"="+encodeURIComponent(null==e?"":e))}return a.join("&").replace(/%20/g,"+")};return{callPostJSON:function(n,o){return a(function(a,r){n=e.api_url+n,t({method:"POST",url:n,data:o}).then(function(t){t.data.status?a(t.data):r(t.data)},function(t){r(t.data)})})},callPostForm:function(n,r){return a(function(a,u){n=e.api_url+n,r=o(r),t({method:"POST",url:n,headers:{"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"},data:r}).then(function(t){200==t.data.ResponseCode?a(t.data):u(t.data)},function(t){u(t.data)})})},callPostImage:function(n,o){return a(function(a,r){n=e.api_url+n,t({method:"POST",url:n,data:o,transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(function(t){200==t.data.ResponseCode?a(t.data):r(t.data)},function(t){r(t.data)})})},callGet:function(n,o){return a(function(a,r){n=e.api_url+n,t({method:"GET",url:n,data:o}).then(function(t){t.data.status?a(t.data):r(t.data)},function(t){r(t.data)})})},callPostPayTm:function(n,e){return a(function(a,r){n=n,e=o(e),t({method:"POST",url:n,headers:{"Content-Type":"text/html"},data:e}).then(function(t){t.data.status?a(t.data):r(t.data)},function(t){r(t.data)})})},callPostImageDemo:function(n,o){return a(function(a,r){n=e.api_url+n,t({method:"POST",url:n,data:o,transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(function(t,a,n){t.fadeIn();a.width("0%"),n.html("0%")},function(t,a,n,e){var o=e+"%";bar.width(o),percent.html(o)},function(t,n,e,o){if(o.data.status)if(obj=$.parseJSON(t),obj.status){bar.width("100%"),percent.html("100%"),a(o.data),$("#imgArea>img").prop("src",obj.image_medium)}else r(o.data);else r(o.data)},function(t){progressBar.fadeOut()},function(t){r(t.data)})})}}}app.factory("appDB",["$http","$q","$rootScope","environment",appDB]);